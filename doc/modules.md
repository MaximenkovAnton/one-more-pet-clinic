# Модули проекта One More Pet Clinic

## Структура проекта

Проект One More Pet Clinic организован как многомодульный Gradle-проект на Kotlin. Каждый модуль имеет свою ответственность и зависимости, что обеспечивает четкое разделение обязанностей и соблюдение принципов чистой архитектуры.

## Основные модули

### Domain

Модуль содержит бизнес-сущности и правила. Это ядро приложения, которое не зависит ни от каких других модулей или внешних фреймворков.

**Ответственность:**
- Определение доменных моделей (Owner, Pet, Visit и т.д.)
- Определение value objects (Name, Email, PhoneNumber и т.д.)
- Определение доменных правил и инвариантов
- Определение доменных исключений

**Зависимости:**
- Не зависит ни от каких других модулей

**Примеры классов:**
- `Owner` - доменная модель владельца питомца
- `Pet` - доменная модель питомца
- `Visit` - доменная модель визита к ветеринару
- `PetType` - тип питомца (кошка, собака и т.д.)
- `Name` - value object для имени
- `Email` - value object для email

### Application

Модуль содержит бизнес-логику приложения, сервисы и use cases. Зависит только от модуля Domain.

**Ответственность:**
- Реализация бизнес-логики приложения
- Оркестрация взаимодействия между доменными объектами
- Определение интерфейсов для внешних зависимостей (репозитории, сервисы)

**Зависимости:**
- Domain

**Примеры классов:**
- `OwnerService` - сервис для работы с владельцами
- `PetService` - сервис для работы с питомцами
- `VisitService` - сервис для работы с визитами
- `OwnerRegistrationUseCase` - сценарий регистрации нового владельца
- `PetRegistrationUseCase` - сценарий регистрации нового питомца

### Port

Многомодульный модуль, определяющий интерфейсы для взаимодействия с внешним миром.

#### port-input

Определяет интерфейсы, через которые внешние системы могут взаимодействовать с приложением (API).

**Ответственность:**
- Определение интерфейсов для входных адаптеров
- Определение DTO для входных данных

**Зависимости:**
- Domain
- Application

**Примеры классов:**
- `OwnerController` - интерфейс для контроллера владельцев
- `PetController` - интерфейс для контроллера питомцев
- `VisitController` - интерфейс для контроллера визитов
- `OwnerDTO` - DTO для передачи данных о владельце

#### port-output

Определяет интерфейсы, через которые приложение взаимодействует с внешними системами (репозитории, внешние сервисы).

**Ответственность:**
- Определение интерфейсов для выходных адаптеров
- Определение DTO для выходных данных

**Зависимости:**
- Domain
- Application

**Примеры классов:**
- `OwnerRepository` - интерфейс для репозитория владельцев
- `PetRepository` - интерфейс для репозитория питомцев
- `VisitRepository` - интерфейс для репозитория визитов
- `NotificationService` - интерфейс для сервиса уведомлений

### Adapter

Многомодульный модуль, содержащий конкретные реализации интерфейсов, определенных в Port.

#### adapter-input

Реализует интерфейсы из port-input (REST контроллеры, GraphQL резолверы и т.д.).

**Ответственность:**
- Реализация входных адаптеров
- Преобразование входных данных в формат, понятный приложению
- Обработка ошибок и возврат соответствующих HTTP-статусов

**Зависимости:**
- Domain
- Application
- port-input

**Примеры классов:**
- `OwnerRestController` - REST-контроллер для работы с владельцами
- `PetRestController` - REST-контроллер для работы с питомцами
- `VisitRestController` - REST-контроллер для работы с визитами

#### adapter-output

Реализует интерфейсы из port-output (JPA репозитории, HTTP клиенты и т.д.).

**Ответственность:**
- Реализация выходных адаптеров
- Преобразование данных из формата приложения в формат, понятный внешним системам
- Взаимодействие с базой данных, внешними API и т.д.

**Зависимости:**
- Domain
- Application
- port-output

**Примеры классов:**
- `JpaOwnerRepository` - JPA-репозиторий для работы с владельцами
- `JpaPetRepository` - JPA-репозиторий для работы с питомцами
- `JpaVisitRepository` - JPA-репозиторий для работы с визитами
- `EmailNotificationService` - сервис уведомлений по email

### Bootstrap

Модуль, который собирает все вместе и содержит точку входа в приложение (main класс).

**Ответственность:**
- Конфигурация приложения
- Внедрение зависимостей
- Запуск приложения

**Зависимости:**
- Domain
- Application
- port-input
- port-output
- adapter-input
- adapter-output
- Spring Boot

**Примеры классов:**
- `Application` - основной класс приложения
- `ApplicationConfig` - конфигурация приложения
- `SecurityConfig` - конфигурация безопасности
- `DatabaseConfig` - конфигурация базы данных
